:root {
    --bg: #050505;
    --text-pure: #ffffff;
    --text-muted: #888888;
    --font-main: 'Manrope', 'Noto Sans KR', sans-serif;
    --card-bg: #111;
    --cursor-size: 20px;
}

body, html {
    margin: 0; padding: 0;
    background-color: var(--bg);
    color: var(--text-pure);
    font-family: var(--font-main);
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden !important; 
    width: 100%;
    cursor: none !important; 
    user-select: none; -webkit-user-select: none;
    touch-action: manipulation; 
    scroll-behavior: smooth;
}

a, button { cursor: none !important; outline: none !important; -webkit-tap-highlight-color: transparent; }
img, video { width: 100%; height: 100%; object-fit: cover; -webkit-user-drag: none; display: block; }
a { text-decoration: none; color: inherit; }

#cursor { position: fixed; top: 0; left: 0; width: var(--cursor-size); height: var(--cursor-size); border: 1px solid rgba(255, 255, 255, 0.5); border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); transition: width 0.3s, height 0.3s, background-color 0.3s, border-color 0.3s; mix-blend-mode: difference; }
#cursor-dot { position: fixed; top: 0; left: 0; width: 4px; height: 4px; background-color: white; border-radius: 50%; pointer-events: none; z-index: 10000; transform: translate(-50%, -50%); }
body.hovered #cursor { width: 50px; height: 50px; background-color: rgba(255, 255, 255, 0.1); border-color: transparent; backdrop-filter: blur(2px); }

nav { position: fixed; top: 0; left: 0; right: 0; padding: 25px 60px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; background: rgba(5, 5, 5, 0.6); backdrop-filter: blur(20px) saturate(180%); -webkit-backdrop-filter: blur(20px) saturate(180%); border-bottom: 1px solid rgba(255,255,255,0.05); box-sizing: border-box; }

/* [수정됨] 3D 자동 롤링 로고 스타일 */
.brand { 
    font-weight: 700; font-size: 1.1rem; letter-spacing: -0.5px; color: #fff; 
    position: relative; 
    height: 24px; /* 텍스트 높이 고정 */
    line-height: 24px;
    perspective: 1000px; 
    cursor: default; 
    width: 200px; /* 애니메이션 공간 확보 */
}
.brand-rolling-container {
    width: 100%; height: 100%;
    position: relative;
    transform-style: preserve-3d;
    /* 5초마다 자동 회전 (무한 반복) */
    animation: rotateBrand 5s cubic-bezier(0.645, 0.045, 0.355, 1) infinite;
}
.brand-face {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    backface-visibility: hidden;
    display: flex; align-items: center;
}
/* 앞면: 기본 이름 */
.face-front {
    transform: translateZ(12px); 
}
/* 뒷면(아랫면): 혁신 문구 (90도 회전 상태) */
.face-back {
    transform: rotateX(-90deg) translateZ(12px);
    /* 혁신적인 그라데이션 컬러 적용 */
    background: linear-gradient(90deg, #fff, #888, #fff);
    background-size: 200% auto;
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    animation: shine 3s linear infinite;
    font-weight: 600; letter-spacing: -0.5px;
}

/* 큐브 회전 애니메이션 키프레임 */
@keyframes rotateBrand {
    0%, 45% { transform: rotateX(0deg); }   /* 앞면 보여줌 */
    50%, 95% { transform: rotateX(90deg); } /* 돌려서 아랫면 보여줌 */
    100% { transform: rotateX(90deg); }     /* 상태 유지 (자연스러운 루프를 위해) */
    /* 참고: 완벽한 루프를 위해 0%와 100%가 이어지도록 로직 구성 */
    0% { transform: rotateX(0deg); }
    45% { transform: rotateX(0deg); }
    50% { transform: rotateX(90deg); }
    95% { transform: rotateX(90deg); }
    100% { transform: rotateX(0deg); } /* 다시 원위치로 획 돌아옴 (깜빡임 방지용 트릭) -> 실제로는 0~90 왕복이 깔끔함 */
}
/* 수정된 키프레임 (깔끔한 0 -> 90 -> 0 왕복) */
@keyframes rotateBrand {
    0%, 40% { transform: rotateX(0deg); }
    50%, 90% { transform: rotateX(90deg); }
    100% { transform: rotateX(0deg); } 
}

.nav-links { display: flex; gap: 40px; }
.nav-link { font-size: 0.85rem; font-weight: 500; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; transition: color 0.3s ease; position: relative; }
.nav-link::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 1px; background: #fff; transition: width 0.3s ease; }
.nav-link:hover { color: #fff; }
.nav-link:hover::after { width: 100%; }

header.hero { padding: 200px 60px 120px; max-width: 1200px; margin: 0 auto; text-align: center; }
header.hero h1 { font-size: clamp(2.2rem, 6vw, 4.5rem); margin: 0; font-weight: 300; line-height: 1.2; padding-bottom: 10px; background: linear-gradient(90deg, #888, #fff, #888); background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shine 5s linear infinite; }
@keyframes shine { to { background-position: 200% center; } }

.contact-section-wrapper { width: 100%; margin: 120px 0; display: flex; justify-content: center; }
.contact-letterbox { display: inline-flex; justify-content: center; align-items: center; background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 30px; padding: 50px 80px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
.contact-inner { display: flex; flex-direction: column; gap: 20px; align-items: center; text-align: center; }
.contact-label { font-size: 0.85rem; letter-spacing: 3px; text-transform: uppercase; color: #555; }
.contact-msg { font-size: 1.2rem; color: #fff; font-weight: 300; margin-bottom: 10px; }
.contact-mail { display: inline-block; position: relative; font-size: 1.5rem; color: #fff; text-decoration: none; transition: opacity 0.3s; width: fit-content; }
.contact-mail::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 1.5px; background: #fff; transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
.contact-mail:hover::after { width: 100%; }
.social-links-compact { display: flex; align-items: center; gap: 15px; margin-top: 20px; }
.social-links-compact a { font-size: 0.9rem; font-weight: 500; color: var(--text-muted); position: relative; transition: color 0.3s; }
.social-links-compact a::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 0; height: 1px; background: #fff; transition: width 0.3s ease; }
.social-links-compact a:hover { color: #fff; }
.social-links-compact a:hover::after { width: 100%; }
.separator { color: #333; }

#intro-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 5000; display: flex; justify-content: center; align-items: center; transition: opacity 2s ease-out, visibility 2s; }
#intro-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
#particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; opacity: 0; transition: opacity 3s ease; }
body.loaded #particle-canvas { opacity: 1; }
.content-wrapper { position: relative; z-index: 10; opacity: 0; transition: opacity 1.5s ease; }
body.loaded .content-wrapper { opacity: 1; }
.reveal-element { opacity: 0; transform: translateY(20px); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
.reveal-element.active { opacity: 1; transform: translateY(0); }
.section-container { max-width: 1400px; margin: 0 auto 180px auto; padding: 0 60px; position: relative; }
.section-header { font-size: 0.9rem; letter-spacing: 3px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 60px; display: flex; align-items: center; gap: 20px; }
.section-header::after { content: ''; flex: 1; height: 1px; background: rgba(255,255,255,0.1); }
.grid-layout { display: grid; gap: 50px; }
.grid-3-col { grid-template-columns: repeat(3, 1fr); }
.grid-4-col { grid-template-columns: repeat(4, 1fr); }
.work-item { position: relative; perspective: 1500px; z-index: 5; }
.img-area { width: 100%; border-radius: 4px; overflow: hidden; background-color: var(--card-bg); box-shadow: 0 20px 40px rgba(0,0,0,0.4); transform-style: preserve-3d; transition: transform 0.1s ease-out; }
.ratio-wide .img-area { aspect-ratio: 16 / 9; }
.ratio-portrait .img-area { aspect-ratio: 4 / 5; }
.ratio-vertical .img-area { aspect-ratio: 9 / 16; }
.img-area img, .img-area video { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease, filter 0.5s ease; filter: grayscale(100%) brightness(0.9); }
.work-item:hover .img-area { transform: translateZ(20px) rotateX(var(--rotateX)) rotateY(var(--rotateY)) scale(1.02); box-shadow: 0 25px 50px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.1); z-index: 10; }
.work-item:hover .img-area img, .work-item:hover .img-area video { filter: grayscale(0%) brightness(1.1); }
.work-item.stack-effect .img-area { box-shadow: 0 10px 20px rgba(0,0,0,0.3), 0 2px 5px rgba(0,0,0,0.4) inset; }
.work-item.stack-effect .img-area::before, .work-item.stack-effect .img-area::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--card-bg); border-radius: 4px; z-index: -1; transition: transform 0.3s ease, opacity 0.3s ease; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
.work-item.stack-effect .img-area::before { transform: translate(5px, 5px) rotate(2deg); opacity: 0.7; }
.work-item.stack-effect .img-area::after { transform: translate(10px, 10px) rotate(4deg); opacity: 0.4; z-index: -2; }
.work-item.stack-effect:hover .img-area::before { transform: translate(8px, 8px) rotate(3deg) translateZ(-5px); }
.work-item.stack-effect:hover .img-area::after { transform: translate(16px, 16px) rotate(6deg) translateZ(-10px); }
.work-info { margin-top: 25px; display: flex; justify-content: space-between; align-items: center; opacity: 0.7; transition: 0.3s; }
.work-item:hover .work-info { opacity: 1; transform: translateY(-5px); }
.work-title { font-size: 1.1rem; font-weight: 500; color: #fff; }
.work-tag { font-size: 0.75rem; border: 1px solid #444; padding: 5px 12px; border-radius: 100px; color: var(--text-muted); background: rgba(0,0,0,0.5); }
#back-to-top { position: fixed; bottom: 40px; right: 40px; width: 60px; height: 60px; background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #fff; font-size: 1.2rem; z-index: 900; opacity: 0; visibility: hidden; transform: translateY(20px); transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1); }
#back-to-top.visible { opacity: 1; visibility: visible; transform: translateY(0); }
#back-to-top:hover { background: #fff; color: #000; transform: scale(1.1); }
#lightbox { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; display: flex; flex-direction: column; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.5s ease; visibility: hidden; overflow: hidden; }
#lightbox.active { opacity: 1; pointer-events: auto; visibility: visible; }
#lightbox-ambience { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; display: flex; justify-content: center; align-items: center; overflow: hidden; opacity: 0; transition: opacity 1s ease; }
#lightbox.active #lightbox-ambience { opacity: 0.6; }
#lightbox-ambience img, #lightbox-ambience video { width: 120vw; height: 120vh; object-fit: cover; filter: blur(80px) brightness(0.7) saturate(1.2); }
#lightbox-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, transparent 20%, rgba(0,0,0,0.8) 100%); z-index: -1; mix-blend-mode: multiply; }
#lightbox-container { display: flex; flex-direction: column; width: fit-content; max-width: 90vw; max-height: 90vh; justify-content: center; align-items: center; overflow: visible; perspective: 1000px; z-index: 10; }
#lightbox-media { max-height: 75vh; max-width: 100%; width: auto !important; height: auto !important; object-fit: contain !important; border-radius: 8px; box-shadow: 0 40px 100px rgba(0,0,0,0.6); transform: scale(0.95); opacity: 0; transition: all 0.6s cubic-bezier(0.2, 1, 0.2, 1); }
#lightbox.active #lightbox-media { transform: scale(1); opacity: 1; }
.lightbox-carousel { position: relative; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
.carousel-track-container { width: 90vw; height: 70vh; overflow: hidden; position: relative; }
.carousel-track { display: flex; height: 100%; transition: transform 1.5s cubic-bezier(0.19, 1, 0.22, 1); will-change: transform; }
.carousel-item { flex: 0 0 90vw; height: 100%; display: flex; justify-content: center; align-items: center; padding: 0 10px; box-sizing: border-box; }
.carousel-item img, .carousel-item video { max-width: 100%; max-height: 100%; width: auto; height: auto; object-fit: contain; border-radius: 4px; }
.carousel-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #fff; width: 50px; height: 50px; border-radius: 50%; font-size: 1.5rem; display: flex; justify-content: center; align-items: center; z-index: 20; backdrop-filter: blur(5px); }
.carousel-prev { left: 40px; }
.carousel-next { right: 40px; }
.lightbox-text { width: 100%; margin-top: 25px; text-align: left; z-index: 10; opacity: 0; transform: translateY(30px); transition: all 0.6s 0.2s ease-out; }
#lightbox.active .lightbox-text { opacity: 1; transform: translateY(0); }
.lightbox-text h3 { font-family: 'Noto Sans KR', sans-serif; font-weight: 700; font-size: 1.5rem; color: #fff; margin-bottom: 10px; margin-top: 0; }
.lightbox-text p { font-family: 'Noto Sans KR', sans-serif; font-size: 1rem; font-weight: 300; line-height: 1.6; color: rgba(255,255,255,0.8); margin: 0; }
.motion-marquee-container { width: 100%; overflow: hidden; position: relative; padding: 20px 0; -webkit-mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%); mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%); }
.motion-track { display: flex; gap: 30px; width: max-content; animation: scrollMotion 40s linear infinite; }
.motion-track:hover { animation-play-state: paused; }
@keyframes scrollMotion { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
.motion-track .work-item { width: 300px; flex-shrink: 0; }
footer { padding: 100px 0; border-top: 1px solid #1f1f1f; text-align: center; font-size: 0.85rem; color: var(--text-muted); letter-spacing: 2px; position: relative; z-index: 5; }

@media (max-width: 1024px) {
    .grid-3-col, .grid-4-col { grid-template-columns: 1fr; gap: 60px; } 
    .section-container { padding: 0 25px; }
    nav { padding: 20px 25px; }
    .contact-letterbox { padding: 40px 25px; width: 90%; }
    .carousel-prev { left: 10px; }
    .carousel-next { right: 10px; }
}